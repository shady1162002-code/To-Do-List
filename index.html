<!DOCTYPE html>
<html lang="en" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List App</title>
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="apple-touch-icon" href="images/logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Dashboard View -->
    <div id="dashboard-view" class="view active">
        <div class="app-container">
            <!-- Main Content Wrapper -->
            <div class="main-content-wrapper">
                <!-- Top Bar -->
                <div class="top-bar">
                    <div class="logo-container">
                        <img src="images/logo.png" alt="To-Do List Logo" class="site-logo-img">
                        <span class="site-logo-text">To-Do List</span>
                    </div>
                    <div class="top-bar-actions">
                        <button class="theme-toggle-btn" id="theme-toggle-btn" title="Toggle Dark Mode">
                            <i class="fas fa-moon" id="theme-icon"></i>
                        </button>
                        <button class="lang-toggle-btn" id="lang-toggle-btn" title="Switch Language">
                            <span id="lang-text">AR</span>
                        </button>
                    </div>
                </div>
                
                <!-- Greeting -->
                <div class="greeting">
                    <h2 id="greeting-text">Hello, User!</h2>
                    <p>Have a nice day!</p>
                </div>
                
                <!-- Task Summary -->
                <div class="task-summary">
                    <div class="summary-header">
                        <h3><span class="uhave"></span><span id="month-task-count">0 tasks</span></h3>
                    </div>
                    <div class="today-progress">
                        <div class="progress-info">
                            <span id="today-progress-text">Today's Progress: 0%</span>
                            <span id="today-progress-count">0/0</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="today-progress-bar"></div>
                        </div>
                    </div>
                </div>

                <!-- Today's Tasks -->
                <div class="section-header">
                    <h3>Today's Tasks</h3>
                    <button class="add-task-btn-header" id="add-task-btn-dashboard" style="padding: 8px 16px; font-size: 0.9em;">
                        <i class="fas fa-plus"></i> Add Task
                    </button>
                </div>

                <div class="today-tasks" id="today-tasks">
                    <div class="empty-state">No tasks for today. Add one below!</div>
                </div>
            </div>
            <!-- End Main Content Wrapper -->

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-icon active" data-view="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-icon" data-view="timeline">
                    <i class="fas fa-calendar"></i>
                    <span>Calendar</span>
                </button>
                <button class="nav-icon" data-view="projects">
                    <i class="fas fa-folder"></i>
                    <span>Projects</span>
                </button>
                <button class="nav-icon" data-view="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span>Notes</span>
                </button>
                <button class="nav-icon" data-view="profile">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Timeline View -->
    <div id="timeline-view" class="view">
        <div class="app-container">
            <!-- Top Bar -->
            <div class="top-bar">
                <button class="back-btn" id="back-btn">
                    <i class="fas fa-arrow-left"></i>
                </button>
                    <div class="logo-container">
                        <img src="images/logo.png" alt="To-Do List Logo" class="site-logo-img">
                        <span class="site-logo-text">To-Do List</span>
                    </div>
                <div class="top-bar-actions">
                    <button class="theme-toggle-btn" id="theme-toggle-btn-2" title="Toggle Dark Mode">
                        <i class="fas fa-moon" id="theme-icon-2"></i>
                    </button>
                    <button class="lang-toggle-btn" id="lang-toggle-btn-2" title="Switch Language">
                        <span id="lang-text-2">AR</span>
                    </button>
                </div>
            </div>

            <!-- Month/Year Header -->
            <div class="month-header">
                <h2 id="month-year">Oct, 2024</h2>
                <button class="add-task-btn-header" id="add-task-btn-timeline">
                    <i class="fas fa-plus"></i> Add Task
                </button>
            </div>

            <!-- Calendar Section Container -->
            <div class="calendar-section-wrapper">
                <!-- Date Selector -->
                <div class="date-selector" id="date-selector">
                    <!-- Dates will be rendered here -->
                </div>

                <!-- Calendar and Task Layout Container -->
                <div class="calendar-task-layout">
                    <!-- Big Calendar -->
                    <div class="big-calendar-container">
                        <div class="big-calendar-header">
                            <button class="calendar-nav-btn" id="calendar-prev-month">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h3 id="big-calendar-month-year">October 2024</h3>
                            <button class="calendar-nav-btn" id="calendar-next-month">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="big-calendar" id="big-calendar">
                            <!-- Calendar will be rendered here -->
                        </div>
                    </div>

                    <!-- Task List -->
                    <div class="task-list-section">
                <div class="task-list-header">
                    <h3>Task</h3>
                    <div class="day-progress-info">
                        <span id="day-progress-text">Progress: 0%</span>
                        <span id="day-progress-count">0/0</span>
                    </div>
                </div>
                <div class="progress-bar-container-small">
                    <div class="progress-bar" id="day-progress-bar"></div>
                </div>
                <div class="task-list" id="task-list">
                    <!-- Tasks will be rendered here -->
                </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-icon" data-view="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-icon active" data-view="timeline">
                    <i class="fas fa-calendar"></i>
                    <span>Calendar</span>
                </button>
                <button class="nav-icon" data-view="projects">
                    <i class="fas fa-folder"></i>
                    <span>Notifications</span>
                </button>
                <button class="nav-icon" data-view="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span>Search</span>
                </button>
                <button class="nav-icon" data-view="profile">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Projects View -->
    <div id="projects-view" class="view">
        <div class="app-container">
            <div class="top-bar">
                <div class="logo-container">
                    <img src="images/logo.png" alt="To-Do List Logo" class="site-logo-img">
                    <span class="site-logo-text">To-Do List</span>
                </div>
                <div class="top-bar-actions">
                    <button class="theme-toggle-btn" id="theme-toggle-btn-projects" title="Toggle Dark Mode">
                        <i class="fas fa-moon" id="theme-icon-projects"></i>
                    </button>
                    <button class="lang-toggle-btn" id="lang-toggle-btn-projects" title="Switch Language">
                        <span id="lang-text-projects">AR</span>
                    </button>
                </div>
            </div>
            <div class="view-header">
                <h1>Projects</h1>
                <button class="add-task-btn-header" id="add-project-btn-standalone">
                    <i class="fas fa-plus"></i> Add Project
                </button>
            </div>
            <div class="projects-view-content">
                <div class="projects-view-controls">
                    <button class="view-btn active" data-view="grid" title="Grid View">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class="view-btn" data-view="kanban" title="Kanban View">
                        <i class="fas fa-columns"></i>
                    </button>
                    <button class="view-btn" data-view="analytics" title="Analytics">
                        <i class="fas fa-chart-bar"></i>
                    </button>
                </div>
                
                <!-- Projects Grid View -->
                <div id="projects-grid-view-standalone" class="projects-view active">
                    <div class="projects-grid" id="projects-grid-standalone">
                        <!-- Projects will be rendered here -->
                    </div>
                </div>
                
                <!-- Projects Kanban View -->
                <div id="projects-kanban-view-standalone" class="projects-view">
                    <div class="kanban-board" id="kanban-board-standalone">
                        <div class="kanban-column" data-status="not-started">
                            <div class="kanban-column-header">
                                <h4>Not Started</h4>
                                <span class="kanban-count" id="kanban-not-started-count-standalone">0</span>
                            </div>
                            <div class="kanban-column-content" id="kanban-not-started-standalone"></div>
                        </div>
                        <div class="kanban-column" data-status="in-progress">
                            <div class="kanban-column-header">
                                <h4>In Progress</h4>
                                <span class="kanban-count" id="kanban-in-progress-count-standalone">0</span>
                            </div>
                            <div class="kanban-column-content" id="kanban-in-progress-standalone"></div>
                        </div>
                        <div class="kanban-column" data-status="on-hold">
                            <div class="kanban-column-header">
                                <h4>On Hold</h4>
                                <span class="kanban-count" id="kanban-on-hold-count-standalone">0</span>
                            </div>
                            <div class="kanban-column-content" id="kanban-on-hold-standalone"></div>
                        </div>
                        <div class="kanban-column" data-status="completed">
                            <div class="kanban-column-header">
                                <h4>Completed</h4>
                                <span class="kanban-count" id="kanban-completed-count-standalone">0</span>
                            </div>
                            <div class="kanban-column-content" id="kanban-completed-standalone"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Projects Analytics View -->
                <div id="projects-analytics-view-standalone" class="projects-view">
                    <div class="analytics-container">
                        <div class="analytics-card">
                            <h4>Total Projects</h4>
                            <div class="analytics-value" id="analytics-total-projects-standalone">0</div>
                        </div>
                        <div class="analytics-card">
                            <h4>Active Projects</h4>
                            <div class="analytics-value" id="analytics-active-projects-standalone">0</div>
                        </div>
                        <div class="analytics-card">
                            <h4>Completed Projects</h4>
                            <div class="analytics-value" id="analytics-completed-projects-standalone">0</div>
                        </div>
                        <div class="analytics-card">
                            <h4>Overall Progress</h4>
                            <div class="analytics-value" id="analytics-overall-progress-standalone">0%</div>
                        </div>
                        <div class="analytics-chart-container">
                            <h4>Projects by Status</h4>
                            <canvas id="projects-status-chart-standalone"></canvas>
                        </div>
                        <div class="analytics-chart-container">
                            <h4>Projects by Priority</h4>
                            <canvas id="projects-priority-chart-standalone"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-icon" data-view="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-icon" data-view="timeline">
                    <i class="fas fa-calendar"></i>
                    <span>Calendar</span>
                </button>
                <button class="nav-icon active" data-view="projects">
                    <i class="fas fa-folder"></i>
                    <span>Projects</span>
                </button>
                <button class="nav-icon" data-view="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span>Notes</span>
                </button>
                <button class="nav-icon" data-view="profile">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Analytics View -->
    <div id="analytics-view" class="view">
        <div class="app-container">
            <div class="top-bar">
                <button class="back-btn" onclick="switchView('dashboard')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="top-bar-actions">
                    <button class="theme-toggle-btn" id="theme-toggle-btn-analytics" title="Toggle Dark Mode">
                        <i class="fas fa-moon" id="theme-icon-analytics"></i>
                    </button>
                    <button class="lang-toggle-btn" id="lang-toggle-btn-analytics" title="Switch Language">
                        <span id="lang-text-analytics">AR</span>
                    </button>
                </div>
            </div>
            <div class="view-header">
                <h1>Analytics</h1>
            </div>
            <div class="analytics-view-content">
                <!-- Analytics content will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Notes View (Search Section) -->
    <div id="notes-view" class="view">
        <div class="app-container">
            <div class="top-bar">
                <div class="logo-container">
                    <img src="images/logo.png" alt="To-Do List Logo" class="site-logo-img">
                    <span class="site-logo-text">To-Do List</span>
                </div>
                <div class="top-bar-actions">
                    <button class="theme-toggle-btn" id="theme-toggle-btn-notes" title="Toggle Dark Mode">
                        <i class="fas fa-moon" id="theme-icon-notes"></i>
                    </button>
                    <button class="lang-toggle-btn" id="lang-toggle-btn-notes" title="Switch Language">
                        <span id="lang-text-notes">AR</span>
                    </button>
                </div>
            </div>
            <div class="view-header">
                <h1>My Notes</h1>
                <button class="add-task-btn-header" id="add-note-btn-notes-view">
                    <i class="fas fa-plus"></i> Add Note
                </button>
            </div>
            <div class="notes-view-content">
                <div id="notes-list-view" class="notes-list">
                    <!-- Notes will be rendered here -->
                </div>
            </div>
            
            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-icon" data-view="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-icon" data-view="timeline">
                    <i class="fas fa-calendar"></i>
                    <span>Calendar</span>
                </button>
                <button class="nav-icon" data-view="projects">
                    <i class="fas fa-folder"></i>
                    <span>Projects</span>
                </button>
                <button class="nav-icon active" data-view="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span>Notes</span>
                </button>
                <button class="nav-icon" data-view="profile">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Profile/Settings View - Sidebar -->
    <div id="profile-view" class="profile-sidebar">
        <div class="profile-sidebar-overlay" onclick="closeProfileSlide()"></div>
        <div class="profile-sidebar-content">
            <div class="profile-sidebar-header">
                <h2>Profile & Settings</h2>
                <button class="profile-sidebar-close" onclick="closeProfileSlide()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="profile-view-content">
                <!-- Profile/Settings content will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Create Note Modal -->
    <div id="note-modal" class="modal">
        <div class="modal-container">
            <!-- Top Bar -->
            <div class="top-bar">
                <button class="back-btn" id="close-note-modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button class="lang-toggle-btn" id="lang-toggle-btn-note" title="Switch Language">
                    <span id="lang-text-note">AR</span>
                </button>
                <button class="search-btn-top">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <!-- Modal Title -->
            <div class="modal-title">
                <h2>Create New Note</h2>
            </div>

            <!-- Note Form -->
            <form id="note-form" class="task-form">
                <!-- Purple Section -->
                <div class="form-section purple-section">
                    <div class="form-group">
                        <label>Note Title</label>
                        <input type="text" id="note-title" placeholder="Enter note title" required>
                    </div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="note-date" required>
                    </div>
                </div>

                <!-- White Section -->
                <div class="form-section white-section">
                    <div class="form-group">
                        <label>Alarm Time</label>
                        <input type="time" id="note-time" required>
                    </div>
                    <div class="form-group">
                        <label>Note Content</label>
                        <textarea id="note-content" placeholder="Write your note here..." rows="6" required></textarea>
                    </div>
                </div>

                <button type="submit" class="create-task-btn">Create Note</button>
            </form>
        </div>
    </div>

    <!-- Create Task Modal -->
    <div id="task-modal" class="modal">
        <div class="modal-container">
            <!-- Top Bar -->
            <div class="top-bar">
                <button class="back-btn" id="close-modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button class="lang-toggle-btn" id="lang-toggle-btn-3" title="Switch Language">
                    <span id="lang-text-3">AR</span>
                </button>
                <button class="search-btn-top">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <!-- Modal Title -->
            <div class="modal-title">
                <h2>Create New Task</h2>
            </div>

            <!-- Task Form -->
            <form id="task-form" class="task-form">
                <!-- Purple Section -->
                <div class="form-section purple-section">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" id="task-title" placeholder="Enter task title" required>
                    </div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="task-date" required>
                    </div>
                </div>

                <!-- White Section -->
                <div class="form-section white-section">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Start time</label>
                            <input type="time" id="task-start-time" required>
                        </div>
                        <div class="form-group">
                            <label>End time</label>
                            <input type="time" id="task-end-time" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="task-description" placeholder="Some text here for the description. More Project for the description." rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <div class="category-tags">
                            <button type="button" class="category-tag" data-category="Meeting">Meeting</button>
                            <button type="button" class="category-tag" data-category="Marketing">Marketing</button>
                            <button type="button" class="category-tag" data-category="Production">Production</button>
                            <button type="button" class="category-tag" data-category="Dev">Dev</button>
                            <button type="button" class="category-tag" data-category="Dashboard Design">Dashboard Design</button>
                            <button type="button" class="category-tag" data-category="UI Design">UI Design</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Project (Optional)</label>
                        <select id="task-project" style="width: 100%; padding: 12px; border: 2px solid var(--border-color); border-radius: 10px; font-size: 1em; background: white; color: var(--text-dark);">
                            <option value="">No Project</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="create-task-btn">Create Task</button>
            </form>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-container">
            <!-- Top Bar -->
            <div class="top-bar">
                <button class="back-btn" id="close-project-modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button class="lang-toggle-btn" id="lang-toggle-btn-project" title="Switch Language">
                    <span id="lang-text-project">AR</span>
                </button>
                <button class="search-btn-top">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <!-- Modal Title -->
            <div class="modal-title">
                <h2 id="project-modal-title">Create New Project</h2>
            </div>

            <!-- Project Form -->
            <form id="project-form" class="task-form">
                <!-- Purple Section -->
                <div class="form-section purple-section">
                    <div class="form-group">
                        <label>Project Name</label>
                        <input type="text" id="project-name" placeholder="Enter project name" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Start Date</label>
                            <input type="date" id="project-start-date" required>
                        </div>
                        <div class="form-group">
                            <label>End Date</label>
                            <input type="date" id="project-end-date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Priority</label>
                            <select id="project-priority" required>
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select id="project-status" required>
                                <option value="not-started">Not Started</option>
                                <option value="in-progress" selected>In Progress</option>
                                <option value="on-hold">On Hold</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Color Theme</label>
                        <div class="color-picker">
                            <button type="button" class="color-option active" data-color="#8B5CF6" style="background: #8B5CF6;"></button>
                            <button type="button" class="color-option" data-color="#EF4444" style="background: #EF4444;"></button>
                            <button type="button" class="color-option" data-color="#10B981" style="background: #10B981;"></button>
                            <button type="button" class="color-option" data-color="#F59E0B" style="background: #F59E0B;"></button>
                            <button type="button" class="color-option" data-color="#3B82F6" style="background: #3B82F6;"></button>
                            <button type="button" class="color-option" data-color="#EC4899" style="background: #EC4899;"></button>
                        </div>
                    </div>
                </div>

                <!-- White Section -->
                <div class="form-section white-section">
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="project-description" placeholder="Enter project description..." rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Use Template</label>
                        <select id="project-template">
                            <option value="">None</option>
                            <option value="website">Website Development</option>
                            <option value="event">Event Planning</option>
                            <option value="content">Content Creation</option>
                            <option value="personal">Personal Goals</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tasks</label>
                        <p style="color: var(--text-light); font-size: 0.9em; margin-top: 10px;">
                            Tasks are linked to projects when creating a new task. Select the project in the task creation form.
                        </p>
                    </div>
                </div>

                <button type="submit" class="create-task-btn" id="project-submit-btn">Create Project</button>
            </form>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- AI Assistant Chat -->
    <button id="ai-chat-btn" class="ai-chat-btn" title="Chat with AI">
        <i class="fas fa-robot"></i>
    </button>

    <div id="ai-chat-window" class="ai-chat-window">
        <div class="ai-chat-header">
            <div class="ai-chat-title">
                <i class="fas fa-robot"></i>
                <span>AI Assistant</span>
            </div>
            <div class="ai-chat-header-actions">
                <button id="ai-chat-delete-history" class="ai-chat-delete-history" title="Delete chat history">
                    <i class="fas fa-trash"></i>
                </button>
                <button id="ai-chat-close" class="ai-chat-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div id="ai-chat-messages" class="ai-chat-messages"></div>
        <div class="ai-chat-input-container">
            <input type="text" id="ai-chat-input" class="ai-chat-input" placeholder="Ask me to add a task or chat..." />
            <button id="ai-chat-send" class="ai-chat-send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="script.js"></script>
</body>
</html>
